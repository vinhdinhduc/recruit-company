// ============================================
// RESPONSIVE MIXINS
// ============================================

@mixin xs {
    @media (min-width: $breakpoint-xs) {
        @content;
    }
}

@mixin sm {
    @media (min-width: $breakpoint-sm) {
        @content;
    }
}

@mixin md {
    @media (min-width: $breakpoint-md) {
        @content;
    }
}

@mixin lg {
    @media (min-width: $breakpoint-lg) {
        @content;
    }
}

@mixin xl {
    @media (min-width: $breakpoint-xl) {
        @content;
    }
}

@mixin xxl {
    @media (min-width: $breakpoint-2xl) {
        @content;
    }
}

@mixin max-xs {
    @media (max-width: ($breakpoint-xs - 1)) {
        @content;
    }
}

@mixin max-sm {
    @media (max-width: ($breakpoint-sm - 1)) {
        @content;
    }
}

@mixin max-md {
    @media (max-width: ($breakpoint-md - 1)) {
        @content;
    }
}

@mixin max-lg {
    @media (max-width: ($breakpoint-lg - 1)) {
        @content;
    }
}

@mixin max-xl {
    @media (max-width: ($breakpoint-xl - 1)) {
        @content;
    }
}

@mixin between($min, $max) {
    @media (min-width: $min) and (max-width: ($max - 1)) {
        @content;
    }
}

// ============================================
// CONTAINER MIXINS
// ============================================

@mixin container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: $container-padding-mobile;
    padding-right: $container-padding-mobile;

    @include md {
        padding-left: $container-padding-tablet;
        padding-right: $container-padding-tablet;
    }

    @include lg {
        max-width: $container-max-width-lg;
        padding-left: $container-padding-desktop;
        padding-right: $container-padding-desktop;
    }

    @include xl {
        max-width: $container-max-width-xl;
    }

    @include xxl {
        max-width: $container-max-width-2xl;
    }
}

@mixin container-fluid {
    width: 100%;
    padding-left: $container-padding-mobile;
    padding-right: $container-padding-mobile;

    @include md {
        padding-left: $container-padding-tablet;
        padding-right: $container-padding-tablet;
    }

    @include lg {
        padding-left: $container-padding-desktop;
        padding-right: $container-padding-desktop;
    }
}

// ============================================
// FLEXBOX MIXINS
// ============================================

@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-start {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}

@mixin flex-end {
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

@mixin flex-column-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

@mixin flex-column-between {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

@mixin flex-wrap {
    display: flex;
    flex-wrap: wrap;
}

// ============================================
// POSITION MIXINS
// ============================================

@mixin absolute-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

@mixin absolute-cover {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

@mixin fixed-cover {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

@mixin sticky($top: 0) {
    position: sticky;
    top: $top;
}

// ============================================
// TEXT MIXINS
// ============================================

@mixin text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@mixin line-clamp($lines: 2) {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

@mixin text-gradient($gradient) {
    background: $gradient;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

@mixin placeholder {
    &::-webkit-input-placeholder {
        @content;
    }
    &:-moz-placeholder {
        @content;
    }
    &::-moz-placeholder {
        @content;
    }
    &:-ms-input-placeholder {
        @content;
    }
}

// ============================================
// BUTTON MIXINS
// ============================================

@mixin reset-button {
    background: none;
    border: none;
    padding: 0;
    margin: 0;
    cursor: pointer;
    font: inherit;
    color: inherit;
    outline: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

@mixin button-base {
    @include reset-button;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: $spacing-2;
    font-weight: $font-weight-medium;
    transition: $transition-all;
    cursor: pointer;
    user-select: none;
    text-decoration: none;
    white-space: nowrap;

    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        pointer-events: none;
    }
}

@mixin button-size($height, $padding-x, $font-size) {
    height: $height;
    padding-left: $padding-x;
    padding-right: $padding-x;
    font-size: $font-size;
}

@mixin button-solid($bg-color, $text-color: $color-white) {
    background: $bg-color;
    color: $text-color;

    &:hover:not(:disabled) {
        background: darken($bg-color, 8%);
    }

    &:active:not(:disabled) {
        background: darken($bg-color, 12%);
    }
}

@mixin button-outline($color) {
    background: transparent;
    color: $color;
    border: 1px solid $color;

    &:hover:not(:disabled) {
        background: $color;
        color: $color-white;
    }

    &:active:not(:disabled) {
        background: darken($color, 8%);
    }
}

@mixin button-ghost($color) {
    background: transparent;
    color: $color;

    &:hover:not(:disabled) {
        background: rgba($color, 0.1);
    }

    &:active:not(:disabled) {
        background: rgba($color, 0.15);
    }
}

@mixin button-link($color) {
    background: transparent;
    color: $color;
    text-decoration: underline;

    &:hover:not(:disabled) {
        color: darken($color, 15%);
    }
}

// ============================================
// INPUT MIXINS
// ============================================

@mixin input-base {
    width: 100%;
    font-family: $font-primary;
    font-size: $font-size-base;
    color: $color-text-primary;
    background: $color-white;
    border: $input-border-width solid $input-border-color;
    border-radius: $border-radius-md;
    transition: $transition-all;
    outline: none;

    &:focus {
        border-color: $input-border-focus;
        box-shadow: 0 0 0 3px rgba($color-primary, 0.1);
    }

    &:disabled {
        background: $color-bg-secondary;
        color: $color-text-disabled;
        cursor: not-allowed;
    }

    @include placeholder {
        color: $color-text-tertiary;
    }

    &.error {
        border-color: $input-border-error;

        &:focus {
            box-shadow: 0 0 0 3px rgba($color-error, 0.1);
        }
    }
}

@mixin input-size($height, $padding-x) {
    height: $height;
    padding-left: $padding-x;
    padding-right: $padding-x;
}

// ============================================
// CARD MIXINS
// ============================================

@mixin card {
    background: $color-white;
    border: 1px solid $color-border-base;
    border-radius: $border-radius-lg;
    box-shadow: $shadow-sm;
}

@mixin card-hover {
    transition: all 0.3s ease;

    &:hover {
        box-shadow: $shadow-lg;
        transform: translateY(-2px);
    }
}

// ============================================
// SHADOW MIXINS
// ============================================

@mixin custom-shadow($x, $y, $blur, $spread, $color) {
    box-shadow: $x $y $blur $spread $color;
}

@mixin multiple-shadows($shadows...) {
    box-shadow: $shadows;
}

// ============================================
// SCROLLBAR MIXINS
// ============================================

@mixin custom-scrollbar($width: 8px, $track-color: $color-bg-secondary, $thumb-color: $color-gray-400) {
    &::-webkit-scrollbar {
        width: $width;
        height: $width;
    }

    &::-webkit-scrollbar-track {
        background: $track-color;
        border-radius: $border-radius-full;
    }

    &::-webkit-scrollbar-thumb {
        background: $thumb-color;
        border-radius: $border-radius-full;

        &:hover {
            background: darken($thumb-color, 10%);
        }
    }
}

@mixin hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;

    &::-webkit-scrollbar {
        display: none;
    }
}

// ============================================
// ANIMATION MIXINS
// ============================================

@mixin transition($properties...) {
    transition: $properties;
}

@mixin animation(
    $name,
    $duration: $animation-duration-base,
    $timing: ease,
    $delay: 0s,
    $iteration: 1,
    $direction: normal,
    $fill-mode: both
) {
    animation: $name $duration $timing $delay $iteration $direction $fill-mode;
}

@mixin keyframes($name) {
    @keyframes #{$name} {
        @content;
    }
}

// ============================================
// HOVER EFFECTS
// ============================================

@mixin hover-lift($distance: -4px) {
    transition:
        transform 0.2s ease,
        box-shadow 0.2s ease;

    &:hover {
        transform: translateY($distance);
    }
}

@mixin hover-grow($scale: 1.05) {
    transition: transform 0.2s ease;

    &:hover {
        transform: scale($scale);
    }
}

@mixin hover-brightness($amount: 1.1) {
    transition: filter 0.2s ease;

    &:hover {
        filter: brightness($amount);
    }
}

// ============================================
// OVERLAY MIXINS
// ============================================

@mixin overlay($color: $color-bg-overlay, $z-index: 1) {
    position: relative;

    &::before {
        content: "";
        @include absolute-cover;
        background: $color;
        z-index: $z-index;
    }
}

@mixin gradient-overlay($gradient, $z-index: 1) {
    position: relative;

    &::before {
        content: "";
        @include absolute-cover;
        background: $gradient;
        z-index: $z-index;
    }
}

// ============================================
// ASPECT RATIO
// ============================================

@mixin aspect-ratio($width, $height) {
    position: relative;

    &::before {
        content: "";
        display: block;
        padding-top: ($height / $width) * 100%;
    }

    > * {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
}

// ============================================
// SPINNER/LOADER
// ============================================

@mixin spinner($size: 40px, $border-width: 4px, $color: $color-primary) {
    width: $size;
    height: $size;
    border: $border-width solid rgba($color, 0.2);
    border-top-color: $color;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }
}

// ============================================
// GRID MIXINS
// ============================================

@mixin grid($columns: 3, $gap: $grid-gutter) {
    display: grid;
    grid-template-columns: repeat($columns, 1fr);
    gap: $gap;
}

@mixin grid-responsive($mobile: 1, $tablet: 2, $desktop: 3, $gap: $grid-gutter) {
    display: grid;
    grid-template-columns: repeat($mobile, 1fr);
    gap: $gap;

    @include md {
        grid-template-columns: repeat($tablet, 1fr);
    }

    @include lg {
        grid-template-columns: repeat($desktop, 1fr);
    }
}

// ============================================
// UTILITIES
// ============================================

@mixin clearfix {
    &::after {
        content: "";
        display: table;
        clear: both;
    }
}

@mixin visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

@mixin reset-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

@mixin reset-link {
    text-decoration: none;
    color: inherit;

    &:hover {
        text-decoration: none;
    }
}

@mixin image-cover {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

@mixin image-contain {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
}
